<div id="helpPageContent">
<p>Most general questions about submission will be answered on our <a href="<?= $this->url(array("controller" => "docs", "action" => "instructions"), '', true); ?>">instructions page.</a></p>
<p>Check the <a href="<?= $this->url(array("controller" => "docs", "action" => "faq"), '', true); ?>">FAQ</a> for common problems.</p>
<p>For general questions about submitting your thesis or dissertation, you should contact Queen Watson in the Laney Graduate School.</p>
<p>For problems creating a PDF, please consult the support staff in ECIT, the Cox Hall Computer Lab, or the Tech staff for your individual programs.</p>
<p>&nbsp</p>
<p>For problems with the ETD submission software, please submit your questions using the form below:</p>
<?php if(isset($this->errorMessage)) {?>
<div id="messages">
	<p class="error"><?= $this->errorMessage ?></p>
</div>
<?php } ?>
<?php 
	$this->submittedUsername = (isset($this->submittedUsername))?$this->submittedUsername:"";
	$this->submittedEmail = (isset($this->submittedEmail))?$this->submittedEmail:"";
	$this->submittedMessage = (isset($this->submittedMessage))?$this->submittedMessage:"";
	$this->submittedSubject = (isset($this->submittedSubject))?$this->submittedSubject:"";
?>

<?= $this->dojo()->enable()
     ->setDjConfigOption('parseOnLoad', true)
     ->setDjConfigOption('isDebug', false)
     ->setCdnBase($this->dojo_config->cdn)
     ->setCdnVersion($this->dojo_config->version)
     ->requireModule("dijit.form.Form")
     ->requireModule("dijit.form.DateTextBox")
     ->requireModule("dijit.form.ValidationTextBox")
     ->requireModule("dijit.form.Textarea")
     ->requireModule("dijit.form.Button")
     ->requireModule("dijit.form.CheckBox")
     ->requireModule("dojox.validate.regexp")
     ->requireModule("dojo.parser")
     ->addStylesheet($this->dojo_config->cdn . '/' . $this->dojo_config->version .
		      "/dijit/themes/tundra/tundra.css")
     ->addStylesheet($this->dojo_config->cdn . '/' . $this->dojo_config->version .
		      "/dojo/resources/dojo.css"); ?>
<? /*	
	<script type="text/javascript"
		djConfig="isDebug: false, parseOnLoad: true"
		src="<?= $this->linkTo('js/dojo/dojo/dojo.js') ?>"></script> */ ?>
	<script type="text/javascript">
<? /*		dojo.require("dijit.form.Form");
		dojo.require("dijit.form.DateTextBox");
		dojo.require("dijit.form.ValidationTextBox");
		dojo.require("dijit.form.Textarea");
		dojo.require("dijit.form.Button");
		dojo.require("dijit.form.CheckBox");
		dojo.require("dojox.validate.regexp");
		dojo.require("dojo.parser"); */ ?>
			
		//Put "onload" logic in here.
		dojo.addOnLoad(function(){
			var theme = 'tundra';
			if(!dojo.hasClass(dojo.body(),theme))
			{
			        dojo.addClass(dojo.body(),theme);
			}
		});
	</script>
<? /*	<head>
	<style type="text/css">
        @import "<?= $this->linkTo('js/dojo/dijit/themes/tundra/tundra.css') ?>";
        @import "<?= $this->linkTo('js/dojo/dojo/resources/dojo.css') ?>";
	</style>
	</head> */ ?>

<form dojoType="dijit.form.Form" id="helpSubmissionForm" action="<?= $this->url(array("action" => "submit"))?>">
<fieldset id="helpFormFields"><legend ="helpLegend">ETD Help Submission Form</legend>
<?php 
	$config = Zend_Registry::get('config');
	$environment = Zend_Registry::get('env-config');
	if ($environment->mode != "production") {
?>
	<div class="formRow">
		<label class="formLabel" for="list_addr"><strong>DEBUG</strong> To:</label>
		<input dojoType="dijit.form.ValidationTextBox" regExpGen="dojox.regexp.emailAddress" class="formInput" type="text" id="list_addr" name="list_addr" value="<?= isset($this->list_addr)?$this->list_addr:"" ?>"  required="true" title="DEBUG: Send this email to this address" promptMessage="DEBUG: Send this email to this address"></input></div>
<?php
	}
?>
	<div class="formRow">
		<input type="hidden" id="etd_link" name="etd_link" value="<?= isset($this->etd_link)?$this->etd_link:"" ?>"></input></div>
	<div class="formRow">
		<label class="formLabel" for="username">Full Name:</label>
		<input dojoType="dijit.form.TextBox" class="formInput" type="text" id="username" name="username" value="<?= isset($this->fullname)?$this->fullname:$this->submittedUsername ?>"  required="true" title="User's Full Name" promptMessage="User's Full Name"></input></div>
	<div class="formRow">
		<label class="formLabel" for="email">Net ID Email:</label>
		<input dojoType="dijit.form.ValidationTextBox" class="formInput" type="text" id="email" name="email" value="<?= isset($this->email)?$this->email:$this->submittedEmail ?>" regExpGen="dojox.regexp.emailAddress" trim="true" required="true" title="User's netid email address" promptMessage="User's netid email address" invalidMessage="Invalid Email Address."></input>
		<input class="formInput" type="checkbox" id="copy_netid" name="copy_netid" value="true" dojoType="dijit.form.CheckBox" title="Send a copy to yourself?"></input> Send me a copy</div>
	<div class="formRow">
		<label class="formLabel" for="grad_date">Graduation Date:</label>
		<input class="formInput" type="text" id="grad_date" name="grad_date" value="" dojoType="dijit.form.DateTextBox" value="new Date();" constraints="{datePattern:'MM/yyyy'}" required="true" trim="true" promptMessage="Please use this format: mm/yyyy" invalidMessage="Invalid date. Use mm/yyyy format."></input>
		or N/A <input class="formInput" type="checkbox" id="grad_date_appl" name="grad_date_appl" value="true" dojoType="dijit.form.CheckBox" onClick="dijit.byId('grad_date').setDisabled(dijit.byId('grad_date_appl').getValue()); dijit.byId('grad_date').setValue('');" title="No specific graduation date"></input></div>
	<div class="formRow">
		<label class="formLabel" for="subject">Subject:</label>
		<input dojoType="dijit.form.ValidationTextBox" class="formInput" type="text" id="subject" name="subject" value="<?= $this->submittedSubject ?>"  required="true" title="Please enter the subject of the assistance needed." promptMessage="Please enter the subject of the assistance needed."></input></div>
	<div class="formRow">
		<label class="formLabel" for="message">Message:</label>
		<textarea dojoType="dijit.form.Textarea" class="formInputArea" minSize="250px" type="text" id="message" name="message" required="true" title="Please be as descriptive as possible" promptMessage="Please be as descriptive as possible"><?= $this->submittedMessage ?></textarea></div>
	<div id="helpFormButtons">
		<button dojoType="dijit.form.Button" class="formInput" type="submit" id="submitButton" title="Submit">Submit</button>
		<button dojoType="dijit.form.Button" class="formInput" type="reset" id="resetButton" title="Reset">Reset</button>
	</div>
</fieldset>
</form>

</div>
